(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3219],{40467:function(e,s,t){Promise.resolve().then(t.bind(t,60441))},60441:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return o}});var l=t(3827),n=t(64090),r=t(31518),a=t(28398);t(67445);var c=t(18994),d=t(10632),i=t(80037),x=t(19407);function o(){let[e,s]=(0,n.useState)(!1),[t,o]=(0,n.useState)(""),u=async e=>{let t=e.target.files[0];if(!t)return;s(!0),o("");let l=new FormData;l.append("file",t);try{await x.aS.upload(l),o("تم رفع الملف بنجاح! سيتم تدريب البوت عليه فوراً.")}catch(e){o("فشل الرفع. حاول مرة أخرى.")}finally{s(!1)}};return(0,l.jsxs)("div",{className:"min-h-screen bg-background font-sans flex",children:[(0,l.jsx)(r.Z,{}),(0,l.jsxs)("main",{className:"flex-1 p-8 overflow-y-auto",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"قاعدة المعرفة"}),(0,l.jsxs)("div",{className:"grid gap-6",children:[(0,l.jsxs)(a.Zb,{children:[(0,l.jsx)(a.Ol,{children:(0,l.jsx)(a.ll,{children:"إضافة مصدر جديد"})}),(0,l.jsxs)(a.aY,{children:[(0,l.jsxs)("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-xl p-12 text-center hover:bg-muted/50 transition-colors relative",children:[(0,l.jsx)("input",{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:u,accept:".pdf,.txt",disabled:e}),(0,l.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[e?(0,l.jsx)(c.Z,{className:"w-12 h-12 animate-spin text-primary"}):(0,l.jsx)(d.Z,{className:"w-12 h-12 text-muted-foreground"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium text-lg",children:"اضغط لرفع ملف PDF أو Text"}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:"الحد الأقصى 10 ميجابايت"})]})]})]}),t&&(0,l.jsxs)("div",{className:"mt-4 p-4 rounded-lg flex items-center gap-2 ".concat(t.includes("نجاح")?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"),children:[t.includes("نجاح")&&(0,l.jsx)(i.Z,{className:"w-4 h-4"}),t]})]})]}),(0,l.jsxs)(a.Zb,{children:[(0,l.jsx)(a.Ol,{children:(0,l.jsx)(a.ll,{children:"المصادر الحالية"})}),(0,l.jsx)(a.aY,{children:(0,l.jsx)("p",{className:"text-muted-foreground text-sm",children:"قائمة الملفات التي تم تدريب البوت عليها ستظهر هنا قريباً."})})]})]})]})]})}}},function(e){e.O(0,[4736,8592,1744],function(){return e(e.s=40467)}),_N_E=e.O()}]);