(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5920],{87817:function(e,s,r){Promise.resolve().then(r.bind(r,11660))},11660:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return h}});var a=r(3827),t=r(64090),l=r(47907),n=r(67445),c=r(61262),d=r(28398),i=r(63236),m=r(18994),o=r(51652),x=r(61604),u=r(19407);function h(){let[e,s]=(0,t.useState)(""),[r,h]=(0,t.useState)(""),[g,b]=(0,t.useState)(!1),[j,N]=(0,t.useState)(""),f=(0,l.useRouter)(),p=async s=>{s.preventDefault(),b(!0),N("");try{let s=await u.iJ.login({email:e,password:r});if(!s.user||"SUPERADMIN"!==s.user.role&&"ADMIN"!==s.user.role){N("الوصول مرفوض: أنت لست مسؤولاً"),b(!1);return}localStorage.setItem("token",s.token),localStorage.setItem("user",JSON.stringify(s.user)),f.push("/admin")}catch(e){console.error("Login error:",e),N(e.message||"خطأ في الاتصال. حاول مرة أخرى."),b(!1)}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 p-4",dir:"rtl",children:(0,a.jsxs)("div",{className:"w-full max-w-md space-y-8",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,a.jsx)(x.Z,{size:"large"}),(0,a.jsx)("h2",{className:"mt-6 text-3xl font-bold tracking-tight text-gray-900 dark:text-white",children:"لوحة تحكم المسؤول"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"يرجى تسجيل الدخول للمتابعة"})]}),(0,a.jsxs)(d.Zb,{className:"border-t-4 border-t-brand-600 shadow-xl",children:[(0,a.jsxs)(d.Ol,{children:[(0,a.jsxs)(d.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(i.Z,{className:"w-5 h-5 text-brand-600"}),"تسجيل الدخول الآمن"]}),(0,a.jsx)(d.SZ,{children:"أدخل بيانات الاعتماد الخاصة بك"})]}),(0,a.jsx)(d.aY,{children:(0,a.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"البريد الإلكتروني"}),(0,a.jsx)(c.I,{type:"email",value:e,onChange:e=>s(e.target.value),placeholder:"info@Faheemly.com",required:!0,className:"bg-white dark:bg-gray-800"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"كلمة المرور"}),(0,a.jsx)(c.I,{type:"password",value:r,onChange:e=>h(e.target.value),placeholder:"••••••••",required:!0,className:"bg-white dark:bg-gray-800"})]}),j&&(0,a.jsx)("div",{className:"p-3 text-sm text-red-500 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:j}),(0,a.jsxs)(n.z,{type:"submit",className:"w-full bg-brand-600 hover:bg-brand-700",disabled:g,children:[g?(0,a.jsx)(m.Z,{className:"animate-spin ml-2"}):(0,a.jsx)(o.Z,{className:"ml-2 w-4 h-4"}),"دخول"]})]})}),(0,a.jsx)(d.eW,{className:"justify-center border-t pt-4",children:(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Unauthorized access is prohibited. IP Logged."})})]})]})})}}},function(e){e.O(0,[4736,8592,1744],function(){return e(e.s=87817)}),_N_E=e.O()}]);