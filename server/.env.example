# ═══════════════════════════════════════════════════
#  FAHEEMLY ENVIRONMENT VARIABLES (v2.0)
#  Complete Configuration Template
# ═══════════════════════════════════════════════════

# ━━━ REQUIRED (Core System) ━━━
JWT_SECRET=your-super-secret-key-minimum-32-characters-required
# For Local Development:
# DATABASE_URL=postgresql://user:password@localhost:5432/faheemly
# For Production (Render.com managed Postgres):
DATABASE_URL=postgres://faheemly_user:xxxxx@dpg-xxxxx.oregon-postgres.render.com/faheemly_db
GROQ_API_KEY=gsk_your_groq_api_key_here
ADMIN_INITIAL_PASSWORD=your-strong-secure-password-minimum-12-chars

# ━━━ SERVER CONFIGURATION ━━━
PORT=3001
NODE_ENV=production  # or 'development'
CLIENT_URL=https://faheemly.com

# ━━━ OPTIONAL: Redis Cache (Recommended for $200-500/mo savings) ━━━
# For Local Development:
# REDIS_URL=redis://localhost:6379
# For Production (Render.com with Redis addon or external Redis):
REDIS_URL=redis://red-xxxxx:6379
# Or Redis Cloud: redis://default:password@redis-12345.redislabs.com:12345

# ━━━ OPTIONAL: Force pgvector for Managed Databases (Render, Heroku, etc.) ━━━
FORCE_PGVECTOR=true  # Set to true if using managed Postgres with pgvector support

# ━━━ HYBRID AI SYSTEM - FREE TIER PROVIDERS (Intelligent Load Balancing) ━━━
# DeepSeek: 60 req/min (Primary - Most generous)
DEEPSEEK_API_KEY=sk-your-deepseek-key-here

# Groq: 30 req/min, 14,400 tokens/min (Secondary)
GROQ_API_KEY=gsk_your_groq_api_key_here

# Cerebras: 30 req/min (Tertiary)
CEREBRAS_API_KEY=your-cerebras-key-here

# Gemini: 15 req/min, 1M tokens/day (Fallback)
GEMINI_API_KEY=your-gemini-api-key-here

# Note: System uses round-robin load balancing with smart fallback
# Get your free API keys:
# - DeepSeek: https://platform.deepseek.com/
# - Groq: https://console.groq.com/
# - Cerebras: https://cloud.cerebras.ai/
# - Gemini: https://aistudio.google.com/

# ━━━ OPTIONAL: WhatsApp Integration ━━━
WHATSAPP_TOKEN=your_meta_access_token
WHATSAPP_PHONE_ID=your_phone_number_id

# ━━━ OPTIONAL: Twilio ━━━
TWILIO_ACCOUNT_SID=AC...
TWILIO_AUTH_TOKEN=...
TWILIO_PHONE_NUMBER=whatsapp:+14155238886

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
#  QUICK START:
#  1. cp .env.example .env
#  2. Generate JWT: openssl rand -base64 32
#  3. Install pgvector: sudo apt-get install postgresql-14-pgvector
#  4. Run: npx prisma migrate deploy
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
SENTRY_DSN=https://c198012f6e5e3ff666fe33f5f36c5413@o4510494829576192.ingest.de.sentry.io/4510494832787536

# -------------------------------------------------------------------------
# Vector similarity threshold (cosine similarity) used by semantic search.
# Default: 0.7 (70%). For temporary testing, you can lower it to 0.5.
# Example to set for staging/test: VECTOR_SIMILARITY_THRESHOLD=0.5
# -------------------------------------------------------------------------
VECTOR_SIMILARITY_THRESHOLD=0.7

# Optional: Voyage embedding model (default: voyage-multilingual-2)
VOYAGE_EMBED_MODEL=voyage-multilingual-2

# Embedding provider ordering / alternation
# By default, when both GEMINI_API_KEY and VOYAGE_API_KEY are present, the server
# will alternate (round-robin) between Gemini and Voyage for embeddings. To
# override the order set: EMBEDDING_PROVIDER_ORDER=gemini,voyage or a custom list.
# Example: EMBEDDING_PROVIDER_ORDER=voyage,gemini

# Optional: Rerank model used for LLM-based reranking (optional)
# Example: RERANK_MODEL=rerank-2-lite
RERANK_MODEL=rerank-2-lite

# Optional secret to allow triggering pgvector migration via HTTP when shell access is not available
# Set this to a strong random value in production if you want to allow secret-based triggering
ADMIN_MIGRATE_SECRET=
